{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const YouTubeUrlInput=_ref=>{let{onJobCreated,onShowDisclaimer,disabled}=_ref;const[youtubeUrl,setYoutubeUrl]=useState('');const[loading,setLoading]=useState(false);const handleSubmit=async()=>{if(!youtubeUrl)return;setLoading(true);try{const resp=await axios.post('/api/analysis/ingest',{youtubeUrl,userConsent:true});const{jobId}=resp.data;onJobCreated(jobId);}catch(err){console.error('Ingest error:',err);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"url\",placeholder:\"https://www.youtube.com/watch?v=...\",value:youtubeUrl,onChange:e=>setYoutubeUrl(e.target.value),disabled:disabled||loading,className:\"w-full input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,disabled:disabled||loading||!youtubeUrl,className:\"btn-primary\",children:loading?'Loading...':'Load & Extract Audio'})]});};export default YouTubeUrlInput;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","YouTubeUrlInput","_ref","onJobCreated","onShowDisclaimer","disabled","youtubeUrl","setYoutubeUrl","loading","setLoading","handleSubmit","resp","post","userConsent","jobId","data","err","console","error","className","children","type","placeholder","value","onChange","e","target","onClick"],"sources":["C:/Users/zacha/OneDrive/Documents/cline_workspace/songsensei/web/src/components/YouTubeUrlInput.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\ninterface YouTubeUrlInputProps {\r\n  onJobCreated: (jobId: string) => void;\r\n  onShowDisclaimer: () => void;\r\n  disabled?: boolean;\r\n}\r\n\r\nconst YouTubeUrlInput: React.FC<YouTubeUrlInputProps> = ({ onJobCreated, onShowDisclaimer, disabled }) => {\r\n  const [youtubeUrl, setYoutubeUrl] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async () => {\r\n    if (!youtubeUrl) return;\r\n    setLoading(true);\r\n    try {\r\n      const resp = await axios.post('/api/analysis/ingest', {\r\n        youtubeUrl,\r\n        userConsent: true,\r\n      });\r\n      const { jobId } = resp.data;\r\n      onJobCreated(jobId);\r\n    } catch (err) {\r\n      console.error('Ingest error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-2\">\r\n      <input\r\n        type=\"url\"\r\n        placeholder=\"https://www.youtube.com/watch?v=...\"\r\n        value={youtubeUrl}\r\n        onChange={(e) => setYoutubeUrl(e.target.value)}\r\n        disabled={disabled || loading}\r\n        className=\"w-full input\"\r\n      />\r\n      <button\r\n        onClick={handleSubmit}\r\n        disabled={disabled || loading || !youtubeUrl}\r\n        className=\"btn-primary\"\r\n      >\r\n        {loading ? 'Loading...' : 'Load & Extract Audio'}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default YouTubeUrlInput;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAQ1B,KAAM,CAAAC,eAA+C,CAAGC,IAAA,EAAkD,IAAjD,CAAEC,YAAY,CAAEC,gBAAgB,CAAEC,QAAS,CAAC,CAAAH,IAAA,CACnG,KAAM,CAACI,UAAU,CAAEC,aAAa,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAe,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CAACJ,UAAU,CAAE,OACjBG,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAE,IAAI,CAAG,KAAM,CAAAf,KAAK,CAACgB,IAAI,CAAC,sBAAsB,CAAE,CACpDN,UAAU,CACVO,WAAW,CAAE,IACf,CAAC,CAAC,CACF,KAAM,CAAEC,KAAM,CAAC,CAAGH,IAAI,CAACI,IAAI,CAC3BZ,YAAY,CAACW,KAAK,CAAC,CACrB,CAAE,MAAOE,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,eAAe,CAAEF,GAAG,CAAC,CACrC,CAAC,OAAS,CACRP,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACET,KAAA,QAAKmB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBtB,IAAA,UACEuB,IAAI,CAAC,KAAK,CACVC,WAAW,CAAC,qCAAqC,CACjDC,KAAK,CAAEjB,UAAW,CAClBkB,QAAQ,CAAGC,CAAC,EAAKlB,aAAa,CAACkB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/ClB,QAAQ,CAAEA,QAAQ,EAAIG,OAAQ,CAC9BW,SAAS,CAAC,cAAc,CACzB,CAAC,cACFrB,IAAA,WACE6B,OAAO,CAAEjB,YAAa,CACtBL,QAAQ,CAAEA,QAAQ,EAAIG,OAAO,EAAI,CAACF,UAAW,CAC7Ca,SAAS,CAAC,aAAa,CAAAC,QAAA,CAEtBZ,OAAO,CAAG,YAAY,CAAG,sBAAsB,CAC1C,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAP,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}